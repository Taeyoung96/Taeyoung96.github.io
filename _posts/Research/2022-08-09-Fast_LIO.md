---
title : "[Paper Review] FAST-LIO ìš”ì•½ ë° ì„¤ëª…"
category :
    - Research
tag :
    - Paper_Review  
    - LIO
toc : true
toc_sticky: true
comments: true
---  

LiDAR-inertial odometry ë…¼ë¬¸ ì¤‘ í•˜ë‚˜ì¸ FAST-LIOë¥¼ ì½ê³  ìš”ì•½í•´ë³´ì.  

ë…¼ë¬¸ì€ ì•„ë˜ ë§í¬ì—ì„œ ì›ë³¸ì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.  
ì½”ë“œë„ ê³µê°œë˜ì–´ ìˆëŠ”ë°, í˜„ì¬ FAST-LIO2ë¡œ updateê°€ ëœ ìƒíƒœì´ë‹¤.  
FAST-LIO ì•Œê³ ë¦¬ì¦˜ì„ í™•ì¸í•˜ë ¤ë©´ commit ê¸°ë¡ì„ í™•ì¸í•´ì•¼ í•œë‹¤.  

- FAST-LIO: A Fast, Robust LiDAR-Inertial Odometry Package by Tightly-Coupled Iterated Kalman Filter ([ArXiv](https://arxiv.org/abs/2010.08196), [IEEE RA-L](https://ieeexplore.ieee.org/abstract/document/9372856))  
- Github : [hku-mars/FAST_LIO](https://github.com/hku-mars/FAST_LIO)  

FAST-LIOì˜ ì£¼ìš” Contribution ë° íŠ¹ì§•ì€ ì•„ë˜ì™€ ê°™ë‹¤.  

- LiDAR dataì™€ IMU dataë¥¼ Tightly coupled ë°©ë²•ìœ¼ë¡œ Sensor Fusionì„ ì§„í–‰  
- LiDAR dataëŠ” planar featureì™€ edge featueë¥¼ ì¶”ì¶œí•˜ì—¬ ì‚¬ìš©  
- Iterated error state Kalman Filterë¥¼ í™œìš©í•˜ì—¬ ìµœì í™” ì§„í–‰  
- Kalman Filterë¥¼ í™œìš©í•  ë•Œ Kalman Gainì„ êµ¬í•˜ëŠ” ê³µì‹ì„ ìƒˆë¡­ê²Œ ì œì•ˆ  
    (Measurment dimensionì—ì„œ State dimensionìœ¼ë¡œ)  
- Livox LiDARë§Œì„ í™œìš©í•˜ì—¬ ì‹¤í—˜ì„ ì£¼ë¡œ ì§„í–‰  

ë…¼ë¬¸ì„ ë³´ë‹¤ë³´ë©´ ì–´ë§ˆë¬´ì‹œí•œ ìˆ˜ì‹ë“¤ì— ì••ë„ë¥¼ ë‹¹í•˜ê¸° ì‰¬ìš´ë°.. (~~ë‚œ ì´ë¯¸ ì••ë„ë‹¹í–ˆë‹¤~~) ì´í•´í•œ ë§Œí¼ ì°¨ê·¼ì°¨ê·¼ ì„¤ëª…ì„ í•´ë³´ë„ë¡ í•˜ê² ë‹¤.  

## 1. Introduction  

Introductionì—ì„œ ì¸ìƒì´ ê¹Šì—ˆë˜ ê²ƒì€ Solid state LiDARì— ëŒ€í•œ ì†Œê°œì˜€ë‹¤. Livox LiDARëŠ” Solid state LiDARì˜ í•˜ë‚˜ì˜ ì¢…ë¥˜ë¼ê³  ìƒê°í•˜ë©´ ë˜ê³ , Solid state LiDARì˜ ë“±ì¥ìœ¼ë¡œ LiDARë¥¼ ì‚°ì—…ìš© ë“œë¡ (UAV)ì— ì¥ì°©í•˜ì—¬ Mappingì„ ì§„í–‰í•  ìˆ˜ ìˆê²Œ ë˜ì—ˆë‹¤ê³  ì„¤ëª…í•œë‹¤.  

í•˜ì§€ë§Œ Solid state LiDARëŠ” LiDAR SLAMìª½ì— ìƒˆë¡œìš´ ë¬¸ì œë¥¼ ê°€ì ¸ì˜¤ê²Œ ëœë‹¤.  
- ê¸°ì¡´ì˜ LOAMì—ì„œ ì‚¬ìš©í•˜ëŠ” feature(planar, edge)ë¥¼ ë½‘ëŠ” ë°©ë²•ì´ ì ìš©ë˜ì§€ ì•ŠëŠ”ë‹¤.  
- ì‘ì€ FoV(Field of View)ë¥¼ ê°€ì§€ê³  ìˆë‹¤.  
- LiDAR sample pointê°€ random í•˜ê²Œ ë‚˜ì˜¨ë‹¤.  

Solid state LiDARê°€ ê¸°ì¡´ì˜ Spinning LiDAR(=Mechanical LiDAR)ì™€ ì–´ë–¤ ì°¨ì´ì ì´ ìˆëŠ”ì§€ ì´í•´í•˜ë©´ ìœ„ì— ì–¸ê¸‰í•œ ë‚´ìš©ë“¤ì„ ì´í•´í•˜ê¸° ì‰¬ìš¸ ê²ƒì´ë‹¤. [Livox LiDAR ì†Œê°œ ì˜ìƒ](https://youtu.be/R18CRxwqqU4)ì„ ì°¸ê³ í•´ë³´ì.  

ì´ëŸ¬í•œ ë¬¸ì œì ì„ í•´ê²°í•˜ê¸° ìœ„í•´ FAST-LIOì—ì„œ ë‹¤ìŒê³¼ ê°™ì€ Contributionì„ ì£¼ì¥í•˜ê³  ìˆë‹¤.  

1. LiDAR feature pointsì™€ IMU dataë¥¼ Tightly-coupled ê²°í•©, iterated Kalman filter ì‚¬ìš©  
2. LiDAR motion distortionì„ ìœ„í•´,  
    IMU dataì˜ ë„ì›€ì„ ë°›ì•„ forward / backward propagation ê³¼ì •ì„ ì œì•ˆ  
3. ë§ì€ ì–‘ì˜ LiDAR dataë¥¼ ë¹ ë¥´ê²Œ ì²˜ë¦¬í•˜ê¸° ìœ„í•´ Kalman Gainì„ ìƒˆë¡­ê²Œ ì œì•ˆ  
4. UAVì—ì„œ ì§ì ‘ Indoor / Outdoorì—ì„œ ì‹¤í—˜ì„ ì§„í–‰  

## 2. Overview  

FAST-LIOì˜ ì „ì²´ì ì¸ OverviewëŠ” ì•„ë˜ì™€ ê°™ë‹¤. ë…¼ë¬¸ Figure 2.ì— ì™¼ìª½ì— ìˆëŠ” ê·¸ë¦¼ì´ë‹¤.   

<p align="center"><img src="https://user-images.githubusercontent.com/41863759/183591460-254ff2f4-0888-49d0-8542-75f5a306a6cf.png" width = "700" ></p>  

ë…¼ë¬¸ì— Notationì´ ìƒë‹¹íˆ ë§ê³  í—·ê°ˆë¦¬ëŠ”ë°, $t_k, \tau_i, \rho_j$ ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ì‹œê°„(Timestamp)ì„ ë‚˜íƒ€ë‚´ê¸° ìœ„í•œ Notationì´ê³  $I$ëŠ” IMU pose(=frame)ì„ ë‚˜íƒ€ë‚´ê³ , $L$ì€ LiDAR pose(=frame)ì„ ë‚˜íƒ€ë‚¸ë‹¤. ë˜í•œ $x$ëŠ” state vectorë¥¼ ë‚˜íƒ€ë‚´ëŠ”ë°, ìƒíƒœì— ë”°ë¼ì„œ Notationì„ ë‹¤ë¥´ê²Œ í•œ ê²ƒì´ë‹¤.  

<p align="center"><img src="https://user-images.githubusercontent.com/41863759/183597611-960fb30a-2402-45eb-94e2-b32bbd4cfb87.png" width = "600" ></p>  

ì „ì²´ì ì¸ Overviewì— ëŒ€í•´ ì¡°ê¸ˆ ë” ì„¤ëª…í•˜ìë©´,  
1. LiDAR pre-processing ì§„í–‰  
2. LiDAR feature points(Planar, edge)ì˜ ì™œê³¡ ë³´ì •ì„ ìœ„í•´  
Forward Propagation / Backward Propagationì„ ìˆ˜í–‰  (ë…¼ë¬¸ì˜ Section 3-C-1, 3-C-2ì— í•´ë‹¹)
3. ì™œê³¡ ë³´ì •ëœ LiDAR scan dataë¥¼ ê¸°ì¡´ì— ë§Œë“¤ì–´ ë†“ì€(Map)ê³¼ ì°¨ì´(residual)ì„ ê³„ì‚°  
(scan-to-Map matching) (ë…¼ë¬¸ì˜ Section 3-C-3ì— í•´ë‹¹)
4. Residualì„ í™œìš©í•˜ì—¬ stateë¥¼ updateí•œë‹¤. stateì˜ ê°’ì´ ìˆ˜ë ´í•  ë•Œê¹Œì§€ ë°˜ë³µì ìœ¼ë¡œ ìˆ˜í–‰  
  (ë…¼ë¬¸ì˜ Section 3-C-4ì— í•´ë‹¹)  

ì°¨ê·¼ ì°¨ê·¼ í•˜ë‚˜ì”© ì‚´í´ë³´ë„ë¡ í•˜ì!  

ìš°ì„  FAST-LIOì˜ ê²½ìš°, IMU poseë¥¼ ê¸°ì¤€ìœ¼ë¡œ odometryë¥¼ ì¸¡ì •í•˜ê³ , ì‚¬ìš©í•˜ëŠ” state vectorëŠ” ì•„ë˜ì™€ ê°™ë‹¤. Global frameì€ ì²«ë²ˆì§¸ ë“¤ì–´ì˜¨ IMU poseë¥¼ ê¸°ì¤€ìœ¼ë¡œ í•œë‹¤.  

<p align="center"><img src="https://user-images.githubusercontent.com/41863759/184074612-73c29afe-5f36-4a96-9e60-d95b14eb2869.png" width = "600" ></p>  

$u$ëŠ” IMU input, $w$ëŠ” Noiseì— ëŒ€í•œ parameterì´ê³  function $f$ì˜ ê²½ìš° staet vector $x$ë¥¼ ì‹œê°„ì— ëŒ€í•´ ë¯¸ë¶„ì„ ìˆ˜í–‰í•˜ëŠ” í•¨ìˆ˜ì´ë‹¤.  

## 3. LiDAR pre-processing  

FAST-LIO ë…¼ë¬¸ì˜ ê²½ìš° Solid state LiDARë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì„¤ëª…ì„ ì§„í–‰í•˜ê³  ìˆëŠ”ë°, point cloudê°€ êµ‰ì¥íˆ ë¹ ë¥¸ ì†ë„ë¡œ ë“¤ì–´ì˜¤ê¸° ë•Œë¬¸ì— $20ms$ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ëˆ„ì ì„ ì‹œí‚¨ë‹¤. ê·¸ ë‹¤ìŒ, LOAM ë…¼ë¬¸ê³¼ ë¹„ìŠ·í•˜ê²Œ feature pointsë¥¼ ë½‘ê²Œ ë˜ëŠ”ë° planar featureì˜ ê²½ìš° LOAMì˜ ë°©ë²•ì„ ì‚¬ìš©í•˜ê³ , edge featureì˜ ê²½ìš° LOAM livoxì˜ ë°©ë²•ì„ ì‚¬ìš©í•œë‹¤.  

ë§ˆì§€ë§‰ìœ¼ë¡œ ë½‘íŒ LiDAR feature pointë¥¼ LiDAR scanì˜ ëìœ¼ë¡œ ì„¤ì •í•˜ê³  FAST-LIOì—ì„œëŠ” LiDAR scan dataì— IMU dataë¥¼ êµ³ì´ align ì‹œí‚¤ì§€ ì•ŠëŠ”ë° ê·¸ ì´ìœ ëŠ” ë‹¨ì§€, LiDAR scanì„ ì§„í–‰í•  ë•Œ ê·¸ ì‚¬ì´ì— ì–»ì–´ì§„ IMU dataë§Œ ì‚¬ìš©ì„ í•˜ê¸° ë•Œë¬¸ì´ë‹¤. ì´ ë¶€ë¶„ì— ëŒ€í•´ì„œëŠ” Forward Propagation / Backward Propagationì—ì„œ ì¢€ ë” ìì„¸íˆ ì„¤ëª…í•˜ë„ë¡ í•˜ê² ë‹¤.  

## 4. LiDAR motion distortion (Forward Propagation / Backward Propagation) 

ê¸°ë³¸ì ìœ¼ë¡œ LiDAR dataë¥¼ ì·¨ë“í•  ë•Œ stateê°€ ì›€ì§ì´ê¸° ë•Œë¬¸ì— ì–´ë–¤ í•˜ë‚˜ì˜ ê¸°ì¤€ stateë¡œ í‘œí˜„í•˜ê¸° ìœ„í•´ ì™œê³¡ì„ ë³´ì •í•˜ëŠ” ê³¼ì •ì„ ê±°ì³ì•¼ í•œë‹¤. ê¸°ì¡´ì˜ LiDAR odometryì˜ ê²½ìš°, ì´ ê³¼ì •ì„ Constant Velocityë¥¼ ê°€ì •í•˜ê³  ì™œê³¡ ë³´ì •ì„ ì§„í–‰í•˜ëŠ”ë°, LiDAR-inertial odometryì˜ ê²½ìš° IMU ì„¼ì„œì—ì„œ ë‚˜ì˜¤ëŠ” ê°ì†ë„ ë° ê°€ì†ë„ë¡œ state vectorê°€ ì–¼ë§ˆë‚˜ ì›€ì§ì˜€ëŠ”ì§€ ê³„ì‚°ì´ ê°€ëŠ¥í•˜ê³  ì´ë¥¼ í†µí•´ state vectorë¥¼ updateí•œë‹¤.  

ë…¼ë¬¸ Figureì—ì„œëŠ” Forward Propagation / Backward Propagation ê³¼ì •ì„ ì•„ë˜ì²˜ëŸ¼ ë‚˜íƒ€ë‚´ê³  ìˆë‹¤.  

<p align="center"><img src="https://user-images.githubusercontent.com/41863759/184083246-20b02126-befb-4235-b09d-68aa193e46d6.png" width = "400" ></p>  

**Forward Propagationì´ë€ IMU dataë¡œ state vectorë¥¼ updateí•˜ëŠ” ê³¼ì •ì„ ì´ì•¼ê¸°í•œë‹¤.** state vectorë¥¼ updateí•  ë•Œ Covariance matrixë„ í•¨ê»˜ updateë¥¼ ì§„í–‰í•˜ëŠ”ë° ì´ë•Œ error state dynamic modelì„ ì‚¬ìš©í•œë‹¤. State vectorë¥¼ updateí•  ë•ŒëŠ” ì•„ë˜ì™€ ê°™ì€ ìˆ˜ì‹ì´ ì‚¬ìš©ëœë‹¤. IMUì˜ NoiseëŠ” 0ìœ¼ë¡œ ê°€ì •í•˜ê³  propagateë¥¼ ì§„í–‰í•œë‹¤.  

<p align="center"><img src="https://user-images.githubusercontent.com/41863759/184078167-42bd9e83-e457-4940-927e-9368ba59df43.png" width = "500" ></p>  

ê·¸ë¦¬ê³  Covariance matrix ($P$)ëŠ” ì•„ë˜ì™€ ê°™ì´ updateë¥¼ ì§„í–‰í•œë‹¤.  

<p align="center"><img src="https://user-images.githubusercontent.com/41863759/184078316-feb6c96c-7a29-4918-9d48-256fce74dc97.png" width = "500" ></p>  

ìœ„ ìˆ˜ì‹ì—ì„œ $F_{\tilde{x}}, F_w$ì— ëŒ€í•œ Matrixë¥¼ ë§Œë“¤ ë•Œ error state dynamic modelì„ ì‚¬ìš©í•œë‹¤ê³  ì´í•´í•˜ë©´ ëœë‹¤.  

Forward Propagationìœ¼ë¡œ state vectorë¥¼ updateê°€ ë˜ë©´ LiDAR scanì´ ëë‚  ì‹œê°„ì— stateê°€ ì–´ë–»ê²Œ ë³€í™”í–ˆëŠ”ì§€ ì•Œ ìˆ˜ ìˆë‹¤. ì´ë ‡ê²Œ updateëœ state vectorë¥¼ ì´ìš©í•˜ì—¬ backward propagationì„ ì§„í–‰í•œë‹¤.  

**Backward propagationì´ë€ scan time ë‚´ì— ì–»ì–´ì§„ LiDAR feature pointsì— ëŒ€í•´ì„œ updateëœ state vectorë¥¼ í™œìš©í•˜ì—¬ LiDAR motion distortionì„ í•˜ëŠ” ê³¼ì •ì„ ì´ì•¼ê¸°í•œë‹¤.**  

<p align="center"><img src="https://user-images.githubusercontent.com/41863759/184084253-c87aabf1-186b-44f0-998a-ca57f5dfda52.png" width = "550" ></p>  

ìœ„ì™€ ê°™ì€ ìˆ˜ì‹ì„ í†µí•´ LiDAR pointsì˜ samling timeì—ì„œì˜ state vectorê°’ì„ ê³„ì‚°í•  ìˆ˜ ìˆê³ , scan timeì´ ëë‚˜ëŠ” ì‹œì ì´ state vectorì™€ì˜ relative poseë¥¼ í†µí•´ ëª¨ë“  point cloudë¥¼ $\hat{x}, \hat{P}$ ìƒíƒœë¡œ projection ì‹œí‚¬ ìˆ˜ ìˆë‹¤.  

FAST-LIOì˜ ê²½ìš° ê¸°ë³¸ì ìœ¼ë¡œ LiDAR-IMU extrinsic parameterëŠ” ì•Œê³  ìˆë‹¤ê³  ê°€ì •í•œë‹¤.  

## 5. State estimation  

FAST-LIOì˜ ê²½ìš° filter-based ìµœì í™”ë¥¼ ì§„í–‰í•˜ëŠ”ë°, ì—¬ê¸°ì„œ ì‚¬ìš©í•˜ëŠ” FilterëŠ” Iterated error state Kalman Filterì´ë‹¤. Iterated error state Kalman Filterì˜ ê²½ìš° [ì´ í¬ìŠ¤íŒ…](https://taeyoung96.github.io/research/IESKF/)ì—ì„œ ê°œë…ì„ ì„¤ëª…í•˜ê³  ìˆìœ¼ë¯€ë¡œ, ìì„¸í•œ ì„¤ëª…ì€ ìƒëµí•˜ë„ë¡ í•˜ê² ë‹¤.  

### Residual Computation

ë¨¼ì € scan to map scan matchingì„ í™œìš©í•˜ì—¬ residual ê°’ì„ ê³„ì‚°í•œë‹¤. í˜„ì¬ ë“¤ì–´ì˜¤ëŠ” scanì˜ ê²½ìš° ì•ì„œ forward / backward propagationì„ í†µí•´ ì–»ì€ ì™œê³¡ ë³´ì •ëœ LiDAR point cloudë¥¼ ì‚¬ìš©í•˜ê³  mapì˜ ê²½ìš° ì´ì „ì— global frameì„ ê¸°ì¤€ìœ¼ë¡œ ê³„ì† ëˆ„ì ëœ point cloudë¥¼ ì‚¬ìš©í•œë‹¤.  

Point cloudëŠ” pre processing ê³¼ì •ì—ì„œ edge ë° planarë¡œ êµ¬ë³„í•˜ëŠ”ë° edge featureëŠ” edgeë¼ë¦¬ Kd-tree êµ¬ì¡°ì—ì„œ ê°€ê¹Œìš´ ê²ƒë¼ë¦¬ correspondenceë¥¼ êµ¬í•˜ê³  plane featureëŠ” planeë¼ë¦¬ correspondenceë¥¼ êµ¬í•˜ê²Œ ëœë‹¤.  

### Iterated State Update

Iterated error state Kalman Filterì˜ ê²½ìš° Updateë¥¼ í•  ë•Œ measurement modelì´ í•„ìš”í•˜ê²Œ ë˜ëŠ”ë° ì—¬ê¸°ì„œ ì‚¬ìš©í•˜ëŠ” measurement modelì€ Residual $z_j$ ê°’ê³¼ prediction state $\hat{x}$, prediction covariance $\hat{P}$ê°€ ì‚¬ìš©ì´ ëœë‹¤. ê·¸ë¦¬ê³  Iteratedë¼ëŠ” ë‹¨ì–´ì—ì„œ ì•Œ ìˆ˜ ìˆë“¯ì´, ì›í•˜ëŠ” error stateì˜ ê°’ì´ 0ì— ê°€ê¹ë„ë¡ (ì¼ì • threshold ì´í•˜ë„ë¡) ë°˜ë³µì ìœ¼ë¡œ state ê°’ì„ updateí•˜ê²Œ ëœë‹¤.  

Iterated State Update ê³¼ì •ì´ ê½¤ë‚˜ ë³µì¡í•œë°.. ì—¬ê¸°ì„œ ì‚¬ìš©í•˜ëŠ” Notationì— ëŒ€í•œ Physical meaningë§Œ ì§šì–´ë³´ë„ë¡ í•˜ê² ë‹¤. **ê²°ë¡ ì ìœ¼ë¡œ MAP(Maximum a-posteritori) ë¬¸ì œë¥¼ í‘¸ëŠ” ê³¼ì •ì´ ìµœì ì˜ state vectorë¥¼ ì°¾ëŠ” ê³¼ì •ì´ë‹¤. ì´ë•Œ ì„ í˜•í™”(Linearization) ì‘ì—…ì„ ì§„í–‰í•˜ë©´ì„œ ì—¬ëŸ¬ Jacobian matrixë“¤ì´ ë“±ì¥í•œë‹¤.**  

ë¨¼ì € measurement modelì„ ë§Œë“¤ ë•Œ ê¸°ë³¸ì ìœ¼ë¡œ point cloudì˜ Noiseê°’ì„ ê³ ë ¤í•´ì„œ ë§Œë“¤ê²Œ ë˜ëŠ”ë° ì´ëŸ¬í•œ Noiseë¥¼ LiDAR ranging and beam-directing noise ($^{L_j}n_{f_{j}}$)ì´ë¼ í•˜ê³  ì´ë¥¼ ê³ ë ¤í•œ measurement modelì€ ì•„ë˜ì™€ ê°™ë‹¤.  

<p align="center"><img src="https://user-images.githubusercontent.com/41863759/184089687-9c496100-f33c-4860-908f-d9f1632b6003.png" width = "550" ></p>  

ìœ„ ì‹ì„ first order approximationì„ ì§„í–‰í•˜ê²Œ ë˜ë©´ $h_j$ì„ error state $\~{x}$ì— ëŒ€í•œ Jacobian matrix $H_j$ë¥¼ êµ¬í•  ìˆ˜ ìˆê²Œ ëœë‹¤.  

<p align="center"><img src="https://user-images.githubusercontent.com/41863759/184090386-64f7fff0-eb9b-4c2c-a645-8806462bf2bb.png" width = "530" ></p>  

Covariance matrix $P$ì˜ ê²½ìš° ì•„ë˜ì™€ ê°™ì€ ì‹ìœ¼ë¡œ updateë¥¼ ì§„í–‰í•œë‹¤.  

<p align="center"><img src="https://user-images.githubusercontent.com/41863759/184093591-7c43d96a-114f-44f8-81eb-805bc0a5a61d.png" width = "230" ></p>  

ì—¬ê¸°ì„œ ì‚¬ìš©ë˜ëŠ” Jacobian matrix $J$ëŠ” 

<p align="center"><img src="https://user-images.githubusercontent.com/41863759/184094030-a88be82c-d08f-4264-a17c-13030cc6e651.png" width = "300" ></p>  

ìœ„ ì‹ì„ $\tilde{x}$ë¡œ í¸ë¯¸ë¶„ì„ í•˜ë©´ì„œ ìƒê¸°ëŠ” Jacobian matrixë¡œ ì•„ë˜ì˜ ì‹ì„ í†µí•´ êµ¬í•  ìˆ˜ ìˆë‹¤.  

<p align="center"><img src="https://user-images.githubusercontent.com/41863759/184094581-2a1964f7-1a81-4994-a6c6-8fc7d39f9678.png" width = "400" ></p>

<p align="center"><img src="https://user-images.githubusercontent.com/41863759/184094601-9d3fb4f9-3d87-4741-becd-f2ebbda95e25.png" width = "450" ></p>

**Iterated error state Kalman Filterì„ ì‚¬ìš©í•  ê²½ìš° Kalman Gainì„ êµ¬í•˜ëŠ” ê³¼ì •ì´ í•„ìš”í•œë° ì—¬ê¸°ì„œëŠ” ìƒˆë¡œìš´ Kalman Gain ê³µì‹ì„ ì œì•ˆí•œë‹¤. ì´ ê³µì‹ì´ ë°”ë¡œ FAST-LIOì—ì„œ ì£¼ì¥í•˜ê³  ìˆëŠ” main contributionì´ë‹¤.**  

<p align="center"><img src="https://user-images.githubusercontent.com/41863759/184095971-ecd3e141-f75a-45a8-9946-646b1ccabf79.png" width = "350" ></p>  

ìœ„ì™€ ê°™ì€ í˜•íƒœë¡œ Kalman Gainì„ ë°”ê¾¸ë©´ì„œ Measurment dimensionì—ì„œ State dimensionìœ¼ë¡œ Matrix dimensionì´ ë°”ë€Œì—ˆëŠ”ë°, MeasurementëŠ” Point cloudì˜ dimensionì„ ë§í•œë‹¤. ì¦‰, ë“¤ì–´ì˜¤ëŠ” point cloudì˜ ìˆ˜ê°€ ë§ì•„ì§€ë©´ ë§ì•„ì§ˆìˆ˜ë¡ dimensionì´ ì»¤ì ¸ ì—°ì‚°ëŸ‰ì´ ì—„ì²­ë‚˜ê²Œ ëŠ˜ì–´ë‚˜ê²Œ ë˜ëŠ”ë°, ì´ë¥¼ state dimension, ì¦‰ state vectorì˜ dimensionì—ë§Œ ì˜í–¥ì„ ë°›ê²Œë˜ë©´ ë“¤ì–´ì˜¤ëŠ” point cloudì˜ ìˆ˜ì— ê´€ê³„ì—†ì´ ë¹ ë¥´ê²Œ Kalman Gain ê°’ì„ êµ¬í•  ìˆ˜ ìˆê²Œ ëœë‹¤.  

ìœ„ ì‹ì—ì„œ $R$ì€ covariance matrixë¥¼ ë‚˜íƒ€ë‚¸ ê²ƒì´ë‹¤. Kalman Gainê¹Œì§€ êµ¬í•˜ë©´ error stateê°€ ìˆ˜ë ´í•  ë•Œê¹Œì§€ Stateë¥¼ updateí•œë‹¤. ìˆ˜ë ´ì„ í•˜ê²Œ ë˜ë©´ ì•„ë˜ì™€ ê°™ì´ optimalí•œ state vectorì™€ Covariance matrixë¥¼ êµ¬í•  ìˆ˜ ìˆê²Œ ëœë‹¤.  

<p align="center"><img src="https://user-images.githubusercontent.com/41863759/184095984-b77d66c5-fb3d-4701-a1b9-09b263cfa93d.png" width = "350" ></p>  

State estimation ê³¼ì •ì„ ì •ë¦¬í•˜ë©´ ì•„ë˜ì™€ ê°™ë‹¤.  

<p align="center"><img src="https://user-images.githubusercontent.com/41863759/184086245-9b490947-cbcf-447b-a8cf-2eaea04e2628.png" width = "550" ></p>  

## 6. Map update & Initialization  

### Map update  

Residualì„ ë§Œë“¤ ë•Œ, scan to map scan matching ë°©ë²•ì„ ì´ìš©í•˜ëŠ”ë° mapì€ ë‹¨ìˆœí•˜ê²Œ optimal stateì—ì„œ ì–»ì–´ë‚¸ Point cloud (feature point)ë¥¼ ë‹¨ìˆœíˆ global frameìœ¼ë¡œ ë³€í™˜í•˜ì—¬ ì €ì¥ì„ í•œë‹¤.  

<p align="center"><img src="https://user-images.githubusercontent.com/41863759/184114622-9ecac7e2-fd4b-40f4-b05a-b768d32bd887.png" width = "400" ></p>  

### Initialization  

FAST-LIOì˜ ì´ˆê¸° state vectorì˜ ê°’ë“¤ì„ ê²°ì • ì§“ê¸° ìœ„í•´ LiDAR ë° IMU dataë¥¼ ëª‡ ì´ˆê°„ ì •ì§€ë¥¼ í•œ ë‹¤ìŒ, ì¢‹ì€ ì´ˆê¸° ê°’ë“¤ì„ ì–»ì–´ë‚¸ë‹¤. ì˜ˆë¥¼ ë“¤ì–´ bias, noise covariance, gravity vector ë“±ë“±...) Solid State LiDARì˜ í•œ ì¢…ë¥˜ì¸ Livoxì˜ ê²½ìš°, ì •ì§€ë¥¼ í•˜ë©´ í•  ìˆ˜ë¡ ë†’ì€ point cloud resolutionì„ ì–»ì„ ìˆ˜ ìˆë‹¤.  

## 7. Experiment  

ì‹¤í—˜ì— ëŒ€í•œ ê²°ê³¼ëŠ” FAST-LIO ë™ì˜ìƒì„ ì°¸ê³ í•˜ë©´ ì‰½ê²Œ ì´í•´í•  ìˆ˜ ìˆë‹¤.  
ë“œë¡ ì— LiDARë¥¼ ë‹¬ê³  odometryë¥¼ êµ¬í•˜ëŠ”ê²Œ ì •ë§ ì‹ ê¸°í•˜ë‹¤. 

- Youtube : [Link](https://youtu.be/iYCY6T79oNU)  

<p align="center"><img src="https://user-images.githubusercontent.com/41863759/184117028-242337e8-75c1-49dd-8dd3-ab1ea4903b57.png" width = "700" ></p>  


ì´ë ‡ê²Œ í•´ì„œ FAST-LIOì˜ ìš”ì•½ì„ ë§ˆì¹˜ë„ë¡ í•˜ê² ë‹¤. ğŸ˜„ 